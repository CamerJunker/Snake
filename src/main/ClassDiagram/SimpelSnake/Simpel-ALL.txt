@startuml
MainApp ..|> GameView
GameView ..|> SnakePanel
GameView ..|> GameModel
GameView ..|> GameController
GameModel ..|> Cell
GameModel ..|> Direction

+class GameView < extends JFrame > ##[bold]blue {
    -- Function --
    +GameView(int n, int m)
}

+class SnakePanel < extends JPanel > ##[dotted]black {
    -- Fields --
    -final GameModel model
    +{static}final Color DARK_GREEN
    -{static} final int CELL_SIZE
    -- Functions --
    +SnakePanel(GameModel model)
    .. Implemented Function ..
    #paintComponent(Graphics g)
}

+class Cell <record> ##[dotted]black {
    Cell(int r, int c)
}

+enum Direction ##[dotted]black {
    UP()
    DOWN()
    LEFT()
    RIGHT()
    -- Fields --
    +final int dr
    +final int dc
    -- Functions --
    Direction(int dr, int dc)
    +Direction opposite()
}

+class GameModel ##[bold]blue {
    -- Fields --
    -final int rows
    -final int cols
    -final Deque<Cell> snake
    -final Set<Cell> occupied
    -Direction dir
    -Cell food
    -int score
    -boolean gameOver
    -final Random rng
    -- Functions --
    +GameModel(int n, int m)
    +reset()
    +step(Direction requested)
    -int wrapRow(int r)
    -int wrapCol(int c)
    -setFood()
    .. Getters ..
    +Iterable<Cell> getSnake()
    +Cell getFood()
    +int getScore()
    +boolean isGameOver()
    +Direction getDirection()
    +int getCols()
    +int getRows()
}

+class MainApp ##[bold]black {
    -- Function --
    +{static}main()
}

+class GameController < extends KeyAdapter > ##[bold]blue {
    -- Fields --
    -final GameModel model
    -final SnakePanel panel
    -Direction currentDirection
    -- Functions --
    +GameController(GameModel model, SnakePanel panel)
    -boolean isOpposite(Direction a, Direction b)
    .. Implemented Function ..
    +keyPressed(KeyEvent e)
}

@enduml